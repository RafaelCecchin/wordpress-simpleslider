function updateImageButtons(){[...document.querySelectorAll('.wp-simpleslider-option-container[data-type="image"]')].forEach(e=>{let t=e.querySelector("input"),n=e.querySelector(".select-image"),l=e.querySelector(".update-image"),o=e.querySelector(".remove-image");""!=t.value?e.classList.add("has-value"):e.classList.remove("has-value"),n.addEventListener("click",openMediaPanel),l.addEventListener("click",openMediaPanel),o.addEventListener("click",removeMediaValue)})}function openMediaPanel(){let e=this.parentElement.querySelector("input"),t=this.parentElement.querySelector("img");const n=wp.media({title:"Imagem",button:{text:"Select"},library:{type:"image"},multiple:!1,frame:"select"});n.on("select",function(){attachment=n.state().get("selection").first().toJSON(),e.value=attachment.id,t.src=attachment.url,updateImageButtons()}),n.on("open",function(){let t=n.state().get("selection");attachment=wp.media.attachment(e.value),attachment.fetch(),t.add(attachment?[attachment]:[])}),n.open()}function removeMediaValue(){let e=this.getAttribute("data-target"),t=this.parentElement.querySelector("img");document.querySelector(` input[name="${e}"] `).value="",t.src="",updateImageButtons()}document.querySelector('.wp-simpleslider-option-container[data-type="image"]')&&updateImageButtons();const minimizeSliderButtons=[...document.querySelectorAll("#simpleslider_metabox .minimize-slider")];function minimizeSlide(e){let t=this.parentElement.nextElementSibling;e.preventDefault(),e.stopPropagation(),t.classList.toggle("closed")}minimizeSliderButtons.length&&minimizeSliderButtons.forEach(e=>{e.addEventListener("click",minimizeSlide)});const removeSliderButtons=[...document.querySelectorAll("#simpleslider_metabox .remove-slider")];function removeSlide(e){let t=this.parentElement.parentElement;e.preventDefault(),e.stopPropagation(),t.remove()}removeSliderButtons.length&&removeSliderButtons.forEach(e=>{e.addEventListener("click",removeSlide)});const addSlideButton=document.querySelector("#simpleslider_metabox .add-slide");addSlideButton&&addSlideButton.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();let t=document.createElement("div");t.innerHTML=simpleSliderEmptyLineHTML;let n=t.querySelector(".wp-simpleslider-line"),l=t.querySelector(".minimize-slider"),o=t.querySelector(".remove-slider"),i=t.querySelectorAll(".select-image"),r=t.querySelectorAll(".update-image"),a=t.querySelectorAll(".remove-image"),c=(new Date).getTime(),m=[...t.querySelectorAll(".wp-simpleslider-option-container")];m.length&&m.forEach(e=>{let t=[...e.querySelectorAll("input")],n=[...e.querySelectorAll("label")];t.forEach(e=>{let t=e.name,n=e.id,l=t.replace("[]","["+c+"]");e.name=l;let o=n.replace("[]","["+c+"]");e.id=o}),n.forEach(e=>{let t=e.getAttribute("for").replace("[]","["+c+"]");e.setAttribute("for",t)})}),l.addEventListener("click",minimizeSlide),o.addEventListener("click",removeSlide),i.forEach(e=>{e.addEventListener("click",openMediaPanel)}),r.forEach(e=>{e.addEventListener("click",openMediaPanel)}),a.forEach(e=>{e.addEventListener("click",removeMediaValue)}),document.querySelector("#simpleslider_metabox .lines").appendChild(n)});const moveDownButtons=[...document.querySelectorAll("#simpleslider_metabox .move-down")],moveTopButtons=[...document.querySelectorAll("#simpleslider_metabox .move-top")];function moveDown(e){e.preventDefault(),e.stopPropagation();let t=this.parentElement.parentElement,n=t.parentElement,l=t.nextElementSibling,o=l;l&&(l.remove(),n.insertBefore(o,t))}function moveTop(e){e.preventDefault(),e.stopPropagation();let t=this.parentElement.parentElement,n=t.parentElement,l=t.previousElementSibling,o=t;l&&(t.remove(),n.insertBefore(o,l))}moveDownButtons&&moveDownButtons.forEach(e=>{e.addEventListener("click",moveDown)}),moveTopButtons&&moveTopButtons.forEach(e=>{e.addEventListener("click",moveTop)});const colorTexts=[...document.querySelectorAll("#simpleslider_metabox .aux-color")];function updateColor(){this.previousElementSibling.style.background=this.value}colorTexts.length&&colorTexts.forEach(e=>{e.addEventListener("keyup",updateColor)});