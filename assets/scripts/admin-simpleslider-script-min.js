function updateImageButtons(){[...document.querySelectorAll('.wp-simpleslider-option-container[data-type="image"]')].forEach(e=>{let t=e.querySelector("input"),i=e.querySelector(".select-image"),n=e.querySelector(".update-image"),l=e.querySelector(".remove-image");""!=t.value?e.classList.add("has-value"):e.classList.remove("has-value"),i.addEventListener("click",openMediaPanel),n.addEventListener("click",openMediaPanel),l.addEventListener("click",removeMediaValue)})}function openMediaPanel(){this.getAttribute("data-target");let e=this.parentElement.querySelector("input"),t=this.parentElement.querySelector("img");const i=wp.media({title:"Imagem",button:{text:"Select"},library:{type:"image"},multiple:!1,frame:"select"});i.on("select",function(){attachment=i.state().get("selection").first().toJSON(),e.value=attachment.id,t.src=attachment.url,updateImageButtons()}),i.on("open",function(){let t=i.state().get("selection");attachment=wp.media.attachment(e.value),attachment.fetch(),t.add(attachment?[attachment]:[])}),i.open()}function removeMediaValue(){let e=this.getAttribute("data-target"),t=this.parentElement.querySelector("img");document.querySelector(` input[name="${e}"] `).value="",t.src="",updateImageButtons()}document.querySelector('.wp-simpleslider-option-container[data-type="image"]')&&updateImageButtons();const minimizeSliderButtons=[...document.querySelectorAll("#simpleslider_metabox .minimize-slider")];function minimizeSlide(e){let t=this.parentElement.nextElementSibling;e.preventDefault(),e.stopPropagation(),t.classList.toggle("closed")}minimizeSliderButtons.length&&minimizeSliderButtons.forEach(e=>{e.addEventListener("click",minimizeSlide)});const removeSliderButtons=[...document.querySelectorAll("#simpleslider_metabox .remove-slider")];function removeSlide(e){let t=this.parentElement.parentElement;e.preventDefault(),e.stopPropagation(),t.remove()}removeSliderButtons.length&&removeSliderButtons.forEach(e=>{e.addEventListener("click",removeSlide)});const addSlideButton=document.querySelector("#simpleslider_metabox .add-slide");addSlideButton&&addSlideButton.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();let t=document.createElement("div");t.innerHTML=simpleSliderEmptyLineHTML;let i=t.querySelector(".wp-simpleslider-line"),n=t.querySelector(".minimize-slider"),l=t.querySelector(".remove-slider"),a=t.querySelectorAll(".select-image"),r=t.querySelectorAll(".update-image"),o=t.querySelectorAll(".remove-image");n.addEventListener("click",minimizeSlide),l.addEventListener("click",removeSlide),a.forEach(e=>{e.addEventListener("click",openMediaPanel)}),r.forEach(e=>{e.addEventListener("click",openMediaPanel)}),o.forEach(e=>{e.addEventListener("click",removeMediaValue)}),document.querySelector("#simpleslider_metabox .inside").appendChild(i)});